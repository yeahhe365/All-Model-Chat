
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

/* Enhanced fadeInUp with 'settle' effect */
@keyframes fadeInUp { 
  0% { opacity: 0; transform: translateY(20px) scale(0.98); filter: blur(4px); } 
  100% { opacity: 1; transform: translateY(0) scale(1); filter: blur(0); } 
}

/* User-requested Smooth Reveal Output Animation - OPTIMIZED */
/* Removed filter:blur and scale() to prevent frame drops during text streaming */
@keyframes fadeInMove {
    0% { 
        opacity: 0; 
        transform: translateY(8px) scale(0.9); 
        filter: blur(3px); 
    }
    100% { 
        opacity: 1; 
        transform: translateY(0) scale(1); 
        filter: blur(0); 
    }
}

.message-smooth-entry {
  animation: fadeInMove 0.4s cubic-bezier(0.2, 0.8, 0.2, 1) both;
}

/* Side Panel Slide In */
@keyframes slideInRight {
  from { opacity: 0; transform: translateX(100%); }
  to { opacity: 1; transform: translateX(0); }
}

/* Smoother modal entry with scale and slight vertical slide */
@keyframes modalEnter { 
  from { opacity: 0; transform: scale(0.95) translateY(10px); } 
  to { opacity: 1; transform: scale(1) translateY(0); } 
}

@keyframes modalExit { 
  from { opacity: 1; transform: scale(1); } 
  to { opacity: 0; transform: scale(0.98); } 
}

@keyframes fullscreenEnter { 
  from { opacity: 0; transform: scale(0.98); } 
  to { opacity: 1; transform: scale(1); } 
}

@keyframes micPulse { 
  0% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7); } 
  70% { box-shadow: 0 0 0 10px rgba(239, 68, 68, 0); } 
  100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); } 
}

@keyframes newTitlePulse { 
  0% { background-color: var(--theme-bg-accent-hover); } 
  100% { background-color: inherit; } 
}

@keyframes formSendPulse { 
  0% { transform: scale(1); } 
  50% { transform: scale(0.995); } 
  100% { transform: scale(1); } 
}

@keyframes fileSuccessRing { 
  from { box-shadow: 0 0 0 0px var(--theme-text-success); } 
  to { box-shadow: 0 0 0 8px transparent; } 
}

@keyframes loading-dots-pulse { 
  0%, 80%, 100% { transform: scale(0); opacity: 0.5; } 
  40% { transform: scale(1.0); opacity: 1; } 
}

/* Icon Pop Animation for Copy/Success states */
@keyframes iconPop {
  0% { transform: scale(0.5); opacity: 0; }
  50% { transform: scale(1.25); opacity: 1; }
  100% { transform: scale(1); opacity: 1; }
}

.icon-animate-pop {
  animation: iconPop 0.3s var(--ease-spring) forwards;
}

/* Authentic Terminal Blink */
@keyframes cursorBlink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0; }
}

.animate-cursor-blink {
  animation: cursorBlink 1s step-end infinite;
}

/* Google Spinner Animation */
.google-spinner {
  animation: google-rotator 1.4s linear infinite;
}

.google-path-anim {
  stroke-dasharray: 187;
  stroke-dashoffset: 0;
  transform-origin: center;
  animation: google-dash 1.4s ease-in-out infinite;
}

.google-color-ring {
  stroke-width: 10;
  fill: none;
  stroke-dasharray: 47.1 141.4;
}

.google-c-red { stroke: #EA4335; stroke-dashoffset: 0; }
.google-c-blue { stroke: #4285F4; stroke-dashoffset: -47.1; }
.google-c-green { stroke: #34A853; stroke-dashoffset: -94.2; }
.google-c-yellow { stroke: #FBBC05; stroke-dashoffset: -141.3; }

@keyframes google-rotator {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(270deg); }
}

@keyframes google-dash {
  0% { stroke-dashoffset: 187; }
  50% {
    stroke-dashoffset: 46.75;
    transform: rotate(135deg);
  }
  100% {
    stroke-dashoffset: 187;
    transform: rotate(450deg);
  }
}

/* Utility Classes */
.mic-recording-animate { animation: micPulse 2s infinite; background-color: var(--theme-bg-danger); color: var(--theme-icon-stop); }
.title-update-animate { animation: newTitlePulse 1.5s ease-out; }

/* Message animation uses user-requested physics */
.message-container-animate { animation: fadeInMove 0.4s cubic-bezier(0.2, 0.8, 0.2, 1) both; }
.welcome-message-animate { animation: fadeInUp 0.8s 0.1s var(--ease-out-expo) both; }
.slide-in-right-animate { animation: slideInRight 0.4s var(--ease-out-expo) both; }

.drag-overlay-animate { animation: fadeIn 0.2s ease-out both; }
.modal-enter-animation { animation: modalEnter 0.4s var(--ease-spring) both; }
.modal-exit-animation { animation: modalExit 0.2s ease-in both; }
.fullscreen-enter-animation { animation: fullscreenEnter 0.4s var(--ease-out-expo) both; }
.form-send-animate { animation: formSendPulse 0.3s cubic-bezier(0.2, 0, 0, 1); }
.newly-active-file-animate .file-preview-box { animation: fileSuccessRing 0.6s ease-out; border-color: var(--theme-text-success); transition: border-color 0.3s; }

/* Sidebar Loading Dots */
.loading-dots-container { display: flex; gap: 3px; padding: 2px; }
.loading-dot { width: 4px; height: 4px; background-color: var(--theme-text-secondary); border-radius: 50%; animation: loading-dots-pulse 1.4s infinite ease-in-out both; }
.loading-dot:nth-child(1) { animation-delay: -0.32s; }
.loading-dot:nth-child(2) { animation-delay: -0.16s; }

/* Ripple Effect */
@keyframes ripple {
  0% { transform: scale(0); opacity: 0.5; }
  100% { transform: scale(4); opacity: 0; }
}

.animate-ripple {
  animation: ripple 0.6s linear;
}

/* Progress Stripe Animation */
.bg-progress-stripe {
    background-image: linear-gradient(45deg, rgba(255,255,255,0.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.15) 50%, rgba(255,255,255,0.15) 75%, transparent 75%, transparent);
    background-size: 1rem 1rem;
    animation: progress-stripe 1s linear infinite;
}

@keyframes progress-stripe {
    0% { background-position: 1rem 0; }
    100% { background-position: 0 0; }
}